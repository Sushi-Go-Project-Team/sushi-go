import*as t from"react";import{createContext as n,useLayoutEffect as e,useEffect as r,useContext as a,useRef as o,useInsertionEffect as i,useCallback as s,useMemo as u,forwardRef as l,createElement as c}from"react";import{i as m,P as f,a as d,b as p,c as g,f as y,g as v,S as h,L as S,d as E,e as b,h as A,j as V,k as w,l as x,r as M,m as C,n as P,o as T,s as W,p as L,q as j}from"./size-rollup-dom-max-assets.js";const D=n({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),F=n({}),B=m?e:r,H=n({strict:!1});function O(t){const{initial:n,animate:e}=function(t,n){if(p(t)){const{initial:n,animate:e}=t;return{initial:!1===n||g(n)?n:void 0,animate:g(e)?e:void 0}}return!1!==t.inherit?n:{}}(t,a(F));return u(()=>({initial:n,animate:e}),[R(n),R(e)])}function R(t){return Array.isArray(t)?t.join(" "):t}function k(t){const n=o(null);return null===n.current&&(n.current=t()),n.current}let I=1;const U=Symbol.for("motionComponentSymbol");function q({preloadedFeatures:n,createVisualElement:e,useRender:u,useVisualState:c,Component:p}){n&&function(t){for(const n in t)y[n]={...y[n],...t[n]}}(n);const g=l((function(l,g){let y;const S={...a(D),...l,layoutId:_(l)},{isStatic:E}=S,b=O(l),A=E?void 0:k(()=>{if(v.hasEverUpdated)return I++}),V=c(l,E);if(!E&&m){b.visualElement=function(t,n,e,s){const{visualElement:u}=a(F),l=a(H),c=a(f),m=a(D).reducedMotion,d=o();s=s||l.renderer,!d.current&&s&&(d.current=s(t,{visualState:n,parent:u,props:e,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:m}));const p=d.current;return i(()=>{p&&p.update(e,c)}),B(()=>{p&&p.render()}),r(()=>{p&&p.updateFeatures()}),(window.HandoffAppearAnimations?B:r)(()=>{p&&p.animationState&&p.animationState.animateChanges()}),p}(p,V,S,e);const t=a(h),s=a(H).strict;b.visualElement&&(y=b.visualElement.loadFeatures(S,s,n,A,t))}return t.createElement(F.Provider,{value:b},y&&b.visualElement?t.createElement(y,{visualElement:b.visualElement,...S}):null,u(p,l,A,function(t,n,e){return s(r=>{r&&t.mount&&t.mount(r),n&&(r?n.mount(r):n.unmount()),e&&("function"==typeof e?e(r):d(e)&&(e.current=r))},[n])}(V,b.visualElement,g),V,E,b.visualElement))}));return g[U]=p,g}function _({layoutId:t}){const n=a(S).id;return n&&void 0!==t?n+"-"+t:t}const z=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N(t,n,e){for(const r in n)E(n[r])||b(r,e)||(t[r]=n[r])}function X(t,n,e){const r={};return N(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},n,e){return u(()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return A(r,n,{enableHardwareAcceleration:!e},t),Object.assign({},r.vars,r.style)},[n])}(t,n,e)),t.transformValues?t.transformValues(r):r}function Y(t,n,e){const r={},a=X(t,n,e);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=a,r}const G=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function J(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||G.has(t)}let K=t=>!J(t);try{(Q=require("@emotion/is-prop-valid").default)&&(K=t=>t.startsWith("on")?!J(t):Q(t))}catch(t){}var Q;const Z=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function $(t,n,e,r){const a=u(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return V(e,n,{enableHardwareAcceleration:!1},w(r),t.transformTemplate),{...e.attrs,style:{...e.style}}},[n]);if(t.style){const n={};N(n,t.style,t),a.style={...n,...a.style}}return a}function tt(t=!1){return(n,e,r,a,{latestValues:o},i)=>{const s=(x(n)?$:Y)(e,o,i,n),l={...function(t,n,e){const r={};for(const a in t)"values"===a&&"object"==typeof t.values||(K(a)||!0===e&&J(a)||!n&&!J(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}(e,"string"==typeof n,t),...s,ref:a},{children:m}=e,f=u(()=>E(m)?m.get():m,[m]);return r&&(l["data-projection-id"]=r),c(n,{...l,children:f})}}const nt=t=>(n,e)=>{const r=a(F),o=a(f),i=()=>function({scrapeMotionValuesFromProps:t,createRenderState:n,onMount:e},r,a,o){const i={latestValues:et(r,a,o,t),renderState:n()};return e&&(i.mount=t=>e(r,t,i)),i}(t,n,r,o);return e?i():k(i)};function et(t,n,e,r){const a={},o=r(t,{});for(const t in o)a[t]=M(o[t]);let{initial:i,animate:s}=t;const u=p(t),l=C(t);n&&l&&!u&&!1!==t.inherit&&(void 0===i&&(i=n.initial),void 0===s&&(s=n.animate));let c=!!e&&!1===e.initial;c=c||!1===i;const m=c?s:i;if(m&&"boolean"!=typeof m&&!P(m)){(Array.isArray(m)?m:[m]).forEach(n=>{const e=T(t,n);if(!e)return;const{transitionEnd:r,transition:o,...i}=e;for(const t in i){let n=i[t];if(Array.isArray(n)){n=n[c?n.length-1:0]}null!==n&&(a[t]=n)}for(const t in r)a[t]=r[t]})}return a}const rt={useVisualState:nt({scrapeMotionValuesFromProps:W,createRenderState:Z,onMount:(t,n,{renderState:e,latestValues:r})=>{try{e.dimensions="function"==typeof n.getBBox?n.getBBox():n.getBoundingClientRect()}catch(t){e.dimensions={x:0,y:0,width:0,height:0}}V(e,r,{enableHardwareAcceleration:!1},w(n.tagName),t.transformTemplate),L(n,e)}})},at={useVisualState:nt({scrapeMotionValuesFromProps:j,createRenderState:z})};const ot=function(t){function n(n,e={}){return q(t(n,e))}if("undefined"==typeof Proxy)return n;const e=new Map;return new Proxy(n,{get:(t,r)=>(e.has(r)||e.set(r,n(r)),e.get(r))})}((function(t,{forwardMotionProps:n=!1},e,r){return{...x(t)?rt:at,preloadedFeatures:e,useRender:tt(n),createVisualElement:r,Component:t}}));export{ot as m};
